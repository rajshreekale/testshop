<script>
  document.getElementById("emiForm").addEventListener("submit", function(e) {
    e.preventDefault();

    const principal = parseFloat(document.getElementById("principal").value);
    const annualRate = parseFloat(document.getElementById("rate").value);
    const years = parseFloat(document.getElementById("tenure").value);

    const monthlyRate = annualRate / 12 / 100;
    const months = years * 12;

    if (!principal || !annualRate || !years || principal <= 0 || annualRate <= 0 || years <= 0) {
      document.getElementById("result").classList.remove("d-none", "alert-success");
      document.getElementById("result").classList.add("alert-danger");
      document.getElementById("result").innerText = "Please enter valid positive numbers.";
      return;
    }

    const emi = (principal * monthlyRate * Math.pow(1 + monthlyRate, months)) /
                (Math.pow(1 + monthlyRate, months) - 1);

    const resultEl = document.getElementById("result");
    resultEl.classList.remove("d-none", "alert-danger");
    resultEl.classList.add("alert-success");
    resultEl.innerText = `Your Monthly EMI is â‚¹${emi.toFixed(2)}`;
  });
</script>